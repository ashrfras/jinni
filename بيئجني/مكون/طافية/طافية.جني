ئورد مكون، عنصرمخصص، عنصر، عنصرئشتمل؛
ئورد حدت؛
ئورد المستند من مستند؛

ئعلن طافية ():
	يمدد مكون()؛
	يملك تعداد موضع [وسط]؛
	يملك تعداد حجم [عادي، كبير، ملئ]؛
	يملك منطق تابتة؛
	
	هدا.موضع = هدا.ردخاصية('موضع') ئو 'وسط'؛
	هدا.حجم = هدا.ردخاصية('حجم') ئو 'عادي'؛
	هدا.تابتة = هدا.لهخاصية('تابتة')؛
	
	هدا._حالة = {
		جسم: عدم،
		عنوان: عدم،
		تابتة: خطئ،
		بيا: عدم،
		ضاهر: خطئ
	}؛
تم

ئعلن طافية.ئضهر ():
	هدا.خدحالة({
		ضاهر: صحيح
	})؛
تم

ئعلن طافية.ئخفيطافية (عنصرئشتمل هدف = عدم، حدت حد = عدم):
	طافية[] طافيات = المستند.ئستعلمكل((<طافية>))؛
	لكل طف في طافيات:
		منطق هلتابتة = طف.تابتة ئو طف._حالة.تابتة؛
		ئدا ((ليس حدت ئو ليس هلتابتة) وو (طف.ئستعلم('.طافيتستار') لا= عدم)) ئو (حد.هدف == طف.ئستعلم('.طافيتغلق')):
			طف.خدحالة({
				عنوان: عدم،
				جسم: عدم،
				تابتة: خطئ،
				ضاهر: خطئ
			})؛
		تم
	تم
تم

ئعلن طافية.ئخفي ():
	هدا.خدحالة({
		عنوان: عدم،
		جسم: عدم،
		تابتة: خطئ،
		ضاهر: خطئ
	})؛
تم

ئعلن طافية.حددت ():
	هدا.حددتمشهد()؛
	عنصر جسمطاف = هدا.ئستعلم((<جسمطاف>))؛
	ئدا (جسمطاف لا= عدم) وو (هدا._حالة.جسم لا= عدم):
		ئدا هدا._حالة.جسم.يتضمن('<'):
			جسمطاف.ئشتملداخلي = هدا._حالة.جسم؛
			هدا.ئربطحدتين()؛
		وئلا:
			مكون عنص = المستند.ئنشئعنصر(هدا._حالة.جسم)؛
			ئدا هدا._حالة.بيا:
				عنص._حالة = هدا._حالة.بيا؛
			تم
			جسمطاف.عووضب([عنص])؛
			عنص.ئربطحدتين()؛
		تم
	تم
تم

ئعلن طافية.صيير ():
	نصية حجم؛
	ئدا هدا.حجم == 'عادي':
		حجم = 'مت:ع-164 ع-ئلاربع'؛
	وئلا ئدا هدا.حجم == 'ملئ':
		حجم = 'ع-شاشة ط-شاشة'؛
	وئلا ئدا هدا.حجم == 'كبير':
		حجم = 'مت:ع-220 ع-تسعون'؛
	تم
	ئرجع (
		<شرط>
			<عند تحقق="\(هدا._حالة.جسم لا= عدم\) ئو \(هدا._حالة.ضاهر\)">
				<قسم صنف="موضعتابت فوق-0 يمين-0 ط-شاشة ع-شاشة خلف-ئسود شفافية50 محورض2000"></قسم>
				<قسم صنف="مخطط ئصفف-وسط ئرصف-وسط طافيتستار موضعتابت فوق-0 يمين-0 ط-شاشة ع-شاشة محورض2000" عندنقر="ئخفيطافية">
					<قسم صنف="مخطط-طولي خلف-ئبيض ئسود داكن:ئبيض داكن:خلف-حيادي-800 %{حجم} %{هدا.ردخاصية\('عنصر-بطاقة'\) ئو ''}">
					
						<شرط>
							<عند تحقق="هدا._حالة.عنوان لا= عدم">
								<قسم صنف="مخطط-عرضي ئصفف-بين ئرصف-بين">
									<حيز صنف="نصكج خطسميك %{هدا.ردخاصية\('عنصر-عنوان'\) ئو ''}">%{هدا._حالة.عنوان}</حيز>
									<حيز صنف="طافيتغلق مئشر-سبابة نصكج نص-رمادي %{هدا.ردخاصية\('عنصر-عنوان'\) ئو ''}">X</حيز>
								</قسم>
								<خطف صنف="%{هدا.ردخاصية\('عنصر-فاصل'\) ئو ''}"></خطف>
							</عند>
						</شرط>
						
						<جسمطاف>
							<فجوة></فجوة>
						</جسمطاف>
					
					</قسم>
				</قسم>
			</عند>
		</شرط>
	)؛
تم

ئعلن مدخل ():
	عنصرمخصص.سججل('طافية'، طافية)؛
تم

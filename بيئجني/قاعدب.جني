ئورد بتشدبي، معلوقاب من مكون.بتشدبي؛
ئورد الئان من تاريخ؛
ئورد الكل ك سياق من سياق؛
ئورد مجال من ئساسية.مصفوفة؛
ئورد الكل ك رياضيات من ئساسية.رياضيات؛
ئورد نتجقاب من بتشدبي؛
ئورد مختطمشروع، مختطوحدة، مختطبطاقة من مختطة؛

ئعلن قابمحلي ك بتشدبي؛
ئعلن مشروعحالي ك مختطمشروع؛

ئعلن هلقاعدب () ك وعد منطق:
	ئدا ليس قابمحلي:
		قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	تم
	نوعبنية نتج = ريتما قابمحلي.ئجلب('مشروع')؛
	مشروعحالي = نتج؛
	ئرجع نتج لا= عدم؛
تم

ئعلن ئستبدئقاب () ك وعد:
	ئدا ليس قابمحلي:
		قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	تم
	#يحدف جميع الجدولين
	ريتما قابمحلي.ئهدم()؛
	#ينشئ قاب جديد
	قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	#ئرسائ الفهرسين
	ريتما قابمحلي.خدفهرس(
		حقلين: ["نوع"، "وحدة"]
	)؛
	ريتما قابمحلي.خدفهرس(
		حقلين: ["نوع"]
	)؛
تم

ئعلن ئستبدئمشروع(مختطمشروع مشروع، مختطوحدة[] وحدات، مختطبطاقة[] بطاقات) ك وعد:
	ريتما قابمحلي.خدواحد(مشروع)؛
	ريتما قابمحلي.خدعديد(وحدات)؛
	ريتما قابمحلي.خدعديد(بطاقات)؛
	مشروعحالي = مشروع؛
تم
